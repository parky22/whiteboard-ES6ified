<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Event Emission</title>
</head>
<body>
    <script>

        // Implementing event emitters in the browser.
        var EventEmitter = function () {
        	this.events = {};
        }

        EventEmitter.prototype.on = function (eventName, listener) {

        	//eventName == stockChange --> this.events.stockChange
        	if (!this.event[eventName]) {
        		this.event[eventName] = [];
         	}

         	this.event[eventName].push(listener);

        }

        EventEmitter.prototype.emit = function (eventName) {

        	var args = [].slice.call(arguments, 1);

        	if (!this.event[eventName]) return;

        	this.event[eventName].forEach(function (listenerFn) {
        		listenerFn.apply(null, args);
        	})
        }
    </script>
</body>
</html>






















